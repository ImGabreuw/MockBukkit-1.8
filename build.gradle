apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'jacoco'
apply plugin: 'maven-publish'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenCentral()
    jcenter()

    maven {
        url 'https://hub.spigotmc.org/nexus/content/repositories/public/'
    }

    maven {
        url 'http://repo.md-5.net/content/groups/public/'
    }
}

dependencies {
    compile 'org.bukkit:bukkit:1.8.8-R0.1-SNAPSHOT'
    compile 'junit:junit:4.12'
    compile 'org.apache.commons:commons-io:1.3.2'
}

group = 'com.github.jitpack'
version = '2.0'

publishing {
    publications {
        maven(MavenPublication) {
            from components.java
        }
    }
    repositories {
        maven {
            name = "GitHubPackages"
            url = "https://maven.pkg.github.com/ImGabreuw/MockBukkit-1.8"
            credentials {
                username = System.getenv("GITHUB_ACTOR")
                password = System.getenv("GITHUB_TOKEN")
            }
        }
    }
}

eclipse.classpath.downloadJavadoc = true
eclipse.classpath.downloadSources = true
